@page
@model RazorWeb.Pages.SellerPage.SellerManageBooksModel
@{
}

<form class="formCategory"  method="get">
    <spam class="categoryText">Category</spam>
    <select class="comboxCategory"  asp-for="SelectedCategory">
        <option value="-1" selected>All</option>
        @foreach(var category in Model.Categories)
        {
            <option value="@category.Category_Id">@category.Category_Name</option>
        }
    </select>
    <button class="choice btn btn-secondary" type="submit">Go</button>
</form><br/>
<div style="max-width: 960px" class="row mx-auto">
    @foreach (var book in Model.Books)
    {
        <div  class="item  mb-4 col-12 col-sm-6 col-md-3">
            <div class="border rounded p-4 d-flex flex-column align-items-center">
                <img style="object-fit: fill" class="w-100" src="@book.Image_URL" alt="image book"/><br/>
                <p class="name">@book.Book_Title</p>
                <p class="price">
                    <span>@book.Book_Price</span>
                    <small style="text-decoration: underline">đ</small>
                </p>
                <a href="SellerManageBooksDetail?bookId=@book.Book_Id&amp;categoryId=@book.Category_Id&amp;bookName=@book.Book_Title" style="line-height: 15px; width: 140px" class="viewDetail btn btn-info text-center " type="submit">
                    View Detail
                </a>
            </div>
        </div>
    }
</div>
<br />
@if (Model.TotalPages > 1)
{
    @if(Model.SelectedCategory == -1)
    {
        <div class="d-flex w-100 justify-content-center">
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li class="page-item @(Model.CurrentPage == 1 ? "disabled" : "")">
                        <a class="page-link" href="?pageNumber=1">First</a>
                    </li>
                    <li class="page-item @(Model.CurrentPage == 1 ? "disabled" : "")">
                        <a class="page-link" href="?pageNumber=@(Model.CurrentPage - 1)">Previous</a>
                    </li>
                    @for (int i = 1; i <= Model.TotalPages; i++)
                    {
                        <li class="page-item @(Model.CurrentPage == i ? "active" : "")">
                            <a class="page-link" href="?pageNumber=@i">@i</a>
                        </li>
                    }
                    <li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")">
                        <a class="page-link" href="?pageNumber=@(Model.CurrentPage + 1)">Next</a>
                    </li>
                    <li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")">
                        <a class="page-link" href="?pageNumber=@Model.TotalPages">Last</a>
                    </li>
                </ul>
            </nav>
        </div>
    }
    @if (Model.SelectedCategory != -1)
    {
        <div class="d-flex w-100 justify-content-center">
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li class="page-item @(Model.CurrentPage == 1 ? "disabled" : "")">
                        <a class="page-link" href="?SelectedCategory=@Model.SelectedCategory&pageNumber=1">First</a>
                    </li>
                    <li class="page-item @(Model.CurrentPage == 1 ? "disabled" : "")">
                        <a class="page-link" href="?SelectedCategory=@Model.SelectedCategory&pageNumber=@(Model.CurrentPage - 1)">Previous</a>
                    </li>
                    @for (int i = 1; i <= Model.TotalPages; i++)
                    {
                        <li class="page-item @(Model.CurrentPage == i ? "active" : "")">
                            <a class="page-link" href="?SelectedCategory=@Model.SelectedCategory&pageNumber=@i">@i</a>
                        </li>
                    }
                    <li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")">
                        <a class="page-link" href="?SelectedCategory=@Model.SelectedCategory&pageNumber=@(Model.CurrentPage + 1)">Next</a>
                    </li>
                    <li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")">
                        <a class="page-link" href="?SelectedCategory=@Model.SelectedCategory&pageNumber=@Model.TotalPages">Last</a>
                    </li>
                </ul>
            </nav>
        </div>
    }
}